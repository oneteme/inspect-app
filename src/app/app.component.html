<nav>
  <mat-toolbar color="primary" style="display: flex; align-items: center; height: 48px;">
    <span style="margin-right: 0.5em;cursor:pointer" (click)="gotoHome($event)">INSPECT</span>

    <button mat-icon-button [matMenuTriggerFor]="menu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <a mat-menu-item [matMenuTriggerFor]="requests">
        <mat-icon>{{ MAPPING_TYPE['request'].icon }}</mat-icon>
        <span>{{ MAPPING_TYPE['request'].title }}</span>
      </a>
      <a mat-menu-item [routerLink]="['session/rest']" [queryParams]="{env: env.value }" routerLinkActive="menu-active">
        <mat-icon class="material-symbols-outlined">{{ MAPPING_TYPE['rest'].icon }}</mat-icon>
        <span>{{ MAPPING_TYPE['rest'].title }}</span>
      </a>
      <a mat-menu-item [routerLink]="['session/batch']" [queryParams]="{env: env.value }"
         routerLinkActive="menu-active">
        <mat-icon class="material-symbols-outlined">{{ MAPPING_TYPE['batch'].icon }}</mat-icon>
        <span>{{ MAPPING_TYPE['batch'].title }}</span>
      </a>
      <a mat-menu-item [routerLink]="['session/test']" [queryParams]="{env: env.value }"
         routerLinkActive="menu-active">
        <mat-icon class="material-symbols-outlined">{{ MAPPING_TYPE['test'].icon }}</mat-icon>
        <span>{{ MAPPING_TYPE['test'].title }}</span>
      </a>
      <a mat-menu-item [routerLink]="['session/startup']" [queryParams]="{env: env.value }"
         routerLinkActive="menu-active">
        <mat-icon class="material-symbols-outlined">{{ MAPPING_TYPE['startup'].icon }}</mat-icon>
        <span>{{ MAPPING_TYPE['startup'].title }}</span>
      </a>
      <a mat-menu-item [routerLink]="['session/view']" [queryParams]="{env: env.value }" routerLinkActive="menu-active">
        <mat-icon>{{ MAPPING_TYPE['view'].icon }}</mat-icon>
        <span>{{ MAPPING_TYPE['view'].title }}</span>
      </a>
    </mat-menu>

    <mat-menu #requests="matMenu">
      <a mat-menu-item [matMenuTriggerFor]="restMenu">
        <mat-icon class="material-symbols-outlined">{{ REQUEST_MAPPING_TYPE['rest'].icon }}</mat-icon>
        <span>REST</span>
      </a>
      <a mat-menu-item [matMenuTriggerFor]="jdbcMenu">
        <mat-icon class="material-symbols-outlined">{{ REQUEST_MAPPING_TYPE['jdbc'].icon }}</mat-icon>
        <span>JDBC</span>
      </a>
      <a mat-menu-item [matMenuTriggerFor]="ftpMenu">
        <mat-icon class="material-symbols-outlined">{{ REQUEST_MAPPING_TYPE['ftp'].icon }}</mat-icon>
        <span>FTP</span>
      </a>
      <a mat-menu-item [matMenuTriggerFor]="smtpMenu">
        <mat-icon class="material-symbols-outlined">{{ REQUEST_MAPPING_TYPE['smtp'].icon }}</mat-icon>
        <span>SMTP</span>
      </a>
      <a mat-menu-item [matMenuTriggerFor]="ldapMenu">
        <mat-icon class="material-symbols-outlined">{{ REQUEST_MAPPING_TYPE['ldap'].icon }}</mat-icon>
        <span>LDAP</span>
      </a>
    </mat-menu>

    <mat-menu #restMenu="matMenu">
      <a mat-menu-item [routerLink]="['dashboard/request/rest']" [queryParams]="{env: env.value }">
        <mat-icon>dashboard</mat-icon>
        <span>KPI</span>
      </a>
      <a mat-menu-item [routerLink]="['request/rest']" [queryParams]="{env: env.value }">
        <mat-icon>search</mat-icon>
        <span>Recherche</span>
      </a>
    </mat-menu>

    <mat-menu #jdbcMenu="matMenu">
      <a mat-menu-item [routerLink]="['dashboard/request/jdbc']" [queryParams]="{env: env.value }">
        <mat-icon>dashboard</mat-icon>
        <span>KPI</span>
      </a>
      <a mat-menu-item [routerLink]="['request/jdbc']" [queryParams]="{env: env.value }">
        <mat-icon>search</mat-icon>
        <span>Recherche</span>
      </a>
    </mat-menu>

    <mat-menu #ftpMenu="matMenu">
      <a mat-menu-item [routerLink]="['dashboard/request/ftp']" [queryParams]="{env: env.value }">
        <mat-icon>dashboard</mat-icon>
        <span>KPI</span>
      </a>
      <a mat-menu-item [routerLink]="['request/ftp']" [queryParams]="{env: env.value }">
        <mat-icon>search</mat-icon>
        <span>Recherche</span>
      </a>
    </mat-menu>

    <mat-menu #smtpMenu="matMenu">
      <a mat-menu-item [routerLink]="['dashboard/request/smtp']" [queryParams]="{env: env.value }">
        <mat-icon>dashboard</mat-icon>
        <span>KPI</span>
      </a>
      <a mat-menu-item [routerLink]="['request/smtp']" [queryParams]="{env: env.value }">
        <mat-icon>search</mat-icon>
        <span>Recherche</span>
      </a>
    </mat-menu>

    <mat-menu #ldapMenu="matMenu">
      <a mat-menu-item [routerLink]="['dashboard/request/ldap']" [queryParams]="{env: env.value }">
        <mat-icon>dashboard</mat-icon>
        <span>KPI</span>
      </a>
      <a mat-menu-item [routerLink]="['request/ldap']" [queryParams]="{env: env.value }">
        <mat-icon>search</mat-icon>
        <span>Recherche</span>
      </a>
    </mat-menu>
    <span style="flex-grow: 1;"></span>
    <a [routerLink]="['deploiment']" [queryParams]="{env: env.value }"
       [matTooltip]="MAPPING_TYPE['deploiment'].title" style="margin-right: 0.5em" mat-icon-button>
      <span class="material-symbols-outlined">{{ MAPPING_TYPE['deploiment'].icon }}</span>
    </a>
    <mat-form-field appearance="fill" class="md-2 no-subscript" [class.loading]="isLoadingEnv">
      <mat-select [formControl]="env">
        <mat-option *ngFor="let e of envs" [value]="e">{{ e }}</mat-option>
      </mat-select>
      <mat-spinner *ngIf="isLoadingEnv" [diameter]="18"></mat-spinner>
    </mat-form-field>
    <a href="https://github.com/orgs/oneteme/projects/17" style="margin-left: 0.5em" target="_blank" mat-icon-button>
      <mat-icon svgIcon="github"></mat-icon>
    </a>
  </mat-toolbar>
</nav>
<mat-drawer-container>
  <mat-drawer-content>
    <router-outlet></router-outlet>
  </mat-drawer-content>
</mat-drawer-container>